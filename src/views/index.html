<%- include('components/head.html') -%>

<style>
  body {
    text-shadow: 0 .05rem .1rem rgba(0, 0, 0, .5);
    box-shadow: inset 0 0 5rem rgba(0, 0, 0, .5);
  }
</style>

<div class="container-fluid d-flex flex-column">

  <header class="mb-auto"></header>

  <main class="px-3">
    <h1 class="display-6">Rally Gatr</h1>

    <p class="lead">Click the button to authorize application via RallyIO</p>

    <button class="btn btn-large btn-outline-light" onclick="loginRally()">Login</button>

    <form action="/home" method="post" name="rally-login">
      <input id="rally-userID" type="hidden" name="userID">
      <input id="rally-networkID" type="hidden" name="networkID">
      <input id="isCreator" type="hidden" name="isCreator">
    </form>

  </main>

  <footer class="mt-auto"></footer>
</div>

<script>
  function submitForm(data) {
    sessionStorage.setItem('rally-userID', data.userID);
    sessionStorage.setItem('rally-networkID', data.networkID);
    sessionStorage.setItem('isCreator', data.isCreator);
    $('#rally-userID').val(data.userID);
    $('#rally-networkID').val(data.networkID);
    $('#isCreator').val(data.isCreator);
    $('form').submit();
  }
</script>

<%- include('components/tail.html') -%>